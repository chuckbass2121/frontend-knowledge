<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>聊聊如何搭建高性能网站 | 前端知识</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="主要记录自己对前端知识的梳理和理解。">
    
    <link rel="preload" href="/frontend-knowledge/assets/css/0.styles.1d57cce0.css" as="style"><link rel="preload" href="/frontend-knowledge/assets/js/app.93aef0cf.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/2.8c63181c.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/244.8e20f76e.js" as="script"><link rel="prefetch" href="/frontend-knowledge/assets/js/10.5a02e6de.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/100.94108eca.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/101.046ba962.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/102.e94aa432.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/103.25dec278.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/104.bfeb49bf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/105.5a488eba.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/106.1db4e8b5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/107.a55e1fd3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/108.6b00b370.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/109.ac523d25.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/11.8fe3bb42.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/110.1227b6f7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/111.7d66e3d4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/112.2c002726.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/113.738a727d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/114.2bfa45be.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/115.21931473.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/116.ea59b23e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/117.ef912b58.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/118.57fbbb59.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/119.8038d7bc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/12.1ad8e5d3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/120.971e61f0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/121.11dfc59c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/122.c39383c3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/123.9586eabd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/124.ee3ecd02.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/125.8975d3fb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/126.c5c18ad6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/127.934a22e6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/128.0e55c466.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/129.97fb8cb8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/13.a6d27e69.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/130.61924e15.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/131.86017b04.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/132.0bfe7da0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/133.2772d9f0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/134.91e22f81.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/135.96f5b5f0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/136.bc374377.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/137.644a2353.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/138.512c7e21.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/139.15d4ed8c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/14.0ee48423.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/140.39723c75.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/141.911f6938.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/142.7bdef236.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/143.d93ed088.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/144.e86f95a8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/145.28222909.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/146.db266948.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/147.247db5f8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/148.885e4bde.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/149.6d8f15bb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/15.3de86f89.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/150.a9ecb080.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/151.a7d26020.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/152.e8289549.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/153.ae2f4701.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/154.8977587a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/155.0ac39891.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/156.2d5e2abd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/157.9a682931.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/158.02beaca0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/159.6b500262.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/16.63903cf1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/160.1c1ec580.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/161.bec41251.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/162.71e43600.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/163.3c9feda7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/164.e016e1e2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/165.b3808cb2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/166.8e36c870.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/167.200bc357.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/168.ac89fb6c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/169.20f77d95.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/17.3289d5b0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/170.674c62a6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/171.1fd95c08.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/172.58c66afc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/173.a2310921.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/174.46852067.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/175.a23bf586.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/176.25d1cc2a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/177.92dd6f88.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/178.620b61e5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/179.56f9117d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/18.febd3ba5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/180.584518eb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/181.66d43740.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/182.f750b1f9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/183.0a1709ab.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/184.88611f43.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/185.5d0480e3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/186.17ff13a4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/187.48c71e07.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/188.f0de2802.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/189.f1f21805.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/19.8e7bf221.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/190.0e13286a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/191.b471ca45.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/192.6ab792ad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/193.b12a569b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/194.273780c0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/195.8c7499fe.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/196.9d93d807.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/197.981d3780.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/198.a807eb74.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/199.04550113.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/20.ece257bb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/200.0cec33d0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/201.49a692ec.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/202.6e13ce3d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/203.912417f1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/204.563c1573.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/205.bdfd7a9f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/206.f546d9ef.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/207.80487aec.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/208.6c79f83d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/209.c6e5f65a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/21.8c5c26d7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/210.3e43e493.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/211.de681c32.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/212.39742fd8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/213.ed841ed7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/214.9ec746e3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/215.db895ebd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/216.eca2ecd8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/217.c3e8a7bc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/218.2751f23c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/219.dce352dd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/22.cc9da520.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/220.f18be129.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/221.49966a5a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/222.b0ffce8d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/223.12fc124e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/224.b9cf49c3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/225.b6848a74.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/226.5bc0c5e6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/227.310f2d18.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/228.2540fdec.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/229.a55d213e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/23.8e36c270.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/230.1454fc25.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/231.f2d4300c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/232.7e3ce80c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/233.047cc972.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/234.2dcddc4e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/235.a2b59fe0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/236.13123225.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/237.0e64cc91.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/238.b9baede4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/239.6193c892.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/24.39091ce6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/240.16748391.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/241.fab2bcd8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/242.4e84612a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/243.1df0b28f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/245.1f50dbd5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/246.3f073a06.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/247.98f9da30.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/248.ea8dec9d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/249.6060e257.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/25.f9841dff.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/250.8c32582f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/251.9cdb134a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/252.3021fc6f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/253.c40e7a22.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/254.80c8e666.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/255.dfbd89bb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/256.d77289ba.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/257.4e8ea486.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/258.1c7b751c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/259.82fc64b1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/26.be8213bc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/260.827708d1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/261.2ae88940.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/262.75045d3f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/263.e04d348e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/264.03dbe31a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/265.5f7b194f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/266.08c358ff.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/267.7e3af6e1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/268.4f34e986.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/269.db51b2f5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/27.7ca1087b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/270.955b5743.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/271.b363c950.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/272.1c5d66a5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/273.f6634304.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/274.d51c2767.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/275.dc962c4e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/276.83c59f0b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/277.a886e887.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/278.cb97199f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/279.228482d5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/28.b48a0d34.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/280.bfcc995a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/281.27f88291.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/282.4b0d69e0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/283.3ac9bec6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/284.b9cf2f2f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/285.166520cf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/286.df82845c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/287.020a269c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/288.736f9a20.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/289.71ea8902.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/29.b29aa4c5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/290.e7038ae9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/291.f58948f4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/292.79490355.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/293.dd7a24f0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/294.19b86152.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/295.af73f981.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/296.4049060e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/297.03150642.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/298.c37a3511.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/299.cfdbe248.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/3.5e719804.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/30.8db76fed.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/300.85cd26b8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/301.53dbc080.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/302.ccfe8ca2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/303.11d1fecc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/304.11a220fe.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/305.e92d8ccc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/306.4b726b76.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/307.51ec3bed.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/308.27dd91fa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/309.a0efd88a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/31.b061efee.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/310.05360ac0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/311.04a33d39.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/312.5ad543ec.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/313.04fcb408.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/314.257334b2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/315.840e2a0a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/316.dc79b138.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/317.1cb32d46.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/318.47b6f0da.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/319.ae5d6cc7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/32.2c08e3c1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/320.852d3f96.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/321.66fdbc16.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/322.948795f1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/323.eef59b1e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/324.54b6f67e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/325.c29261fd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/326.e3e2cc1e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/327.14568e34.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/328.516ae4cb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/329.cc2d64ed.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/33.3202cf5c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/330.32d1afbd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/331.97fc16b3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/332.e81ff9f8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/333.0db264c6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/334.82cab106.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/335.c65e25c2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/336.72da90b2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/337.0bd68013.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/338.0d2866b1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/339.3364dddb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/34.6008baa3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/340.3934c278.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/341.7883ac9e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/342.961512eb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/343.df5fea7d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/344.cdc1a304.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/345.77e3fe1f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/346.69fc5ddc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/347.d12d840f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/348.797d0026.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/349.933783b1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/35.37077870.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/350.823747dc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/351.c47a4661.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/352.4f3f5b63.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/353.819c7945.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/354.279f97e1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/355.de9c5b4e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/356.732fb0fc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/357.42962f13.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/358.000b6a20.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/359.7fd827f5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/36.f1850cc0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/360.9cea9e26.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/361.3ac32b46.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/362.fed5f26e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/363.5a154f01.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/364.5d9f8e57.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/365.a3170cd8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/366.d816769e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/367.5481acc1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/368.f3ec57e7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/369.bf217a06.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/37.87bcbac8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/370.18d9824a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/371.d96f2840.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/372.6ee1bb65.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/373.3d7274e0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/374.84e3e7d6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/375.5e25b37b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/376.a450f7c6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/377.6d597df6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/378.fd90df8c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/379.6a947dcf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/38.f445d7ea.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/380.e5d4f03a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/381.1e42f267.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/382.250f2594.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/383.535f86d5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/384.23d5c58e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/385.704e8de2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/386.4d390a04.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/387.3352bced.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/388.2f1c9517.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/389.0d524da8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/39.763df0ab.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/390.fb30c7d2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/391.b10b5598.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/392.5dc05947.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/393.66451c00.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/394.cce0059a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/395.5e193b73.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/396.babbe622.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/397.0323699e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/4.b597b028.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/40.7687eb38.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/41.578d92b4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/42.e88f0ac6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/43.80fb0510.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/44.14c111eb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/45.23a1df18.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/46.0072c064.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/47.e0df3aa9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/48.9c35ce9f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/49.06b807c8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/5.1d1ad21f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/50.e7eab164.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/51.fb857d75.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/52.feb621f6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/53.f93e3d36.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/54.ee89dbd7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/55.18862693.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/56.bc50ca17.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/57.83ddddeb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/58.d3cc6bb5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/59.2e6e465a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/6.c32051cf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/60.6994b905.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/61.37bf3979.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/62.565a3dc3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/63.a2a9a7fd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/64.d74966f3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/65.05eaaf83.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/66.d8e3d5a7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/67.8c91e4bf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/68.a49be6c8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/69.7939a232.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/7.35b1970f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/70.1aff7cee.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/71.b9b545c2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/72.50fdaac1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/73.07fc09a1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/74.244a1e92.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/75.c051ad14.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/76.da8b7e37.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/77.e299c271.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/78.a097c0a8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/79.e2bc73ae.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/8.4f2f66fd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/80.aaf6d507.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/81.766e9e17.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/82.4c26b7a0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/83.5d96cbaf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/84.59f9a154.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/85.a10f5e2c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/86.2c904aa9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/87.3ec4cea9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/88.663d542b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/89.380ad64c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/9.af7090a3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/90.7552e52b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/91.bd816042.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/92.48e81824.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/93.9c1fb2cc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/94.277c8646.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/95.854ab45f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/96.a1d0fe43.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/97.21f399e3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/98.c8d08fe4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/99.9709b083.js">
    <link rel="stylesheet" href="/frontend-knowledge/assets/css/0.styles.1d57cce0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-knowledge/" class="home-link router-link-active"><!----> <span class="site-name">前端知识</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/chuckbass2121/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/chuckbass2121/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Babel</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/frontend-knowledge/" aria-current="page" class="sidebar-link">README.md</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实践篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>性能优化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/性能优化/1.资源合并与压缩.html" class="sidebar-link">1.资源合并与压缩.md</a></li><li><a href="/frontend-knowledge/性能优化/2.CSS-JS-HTML加载执行.html" class="sidebar-link">2.CSS-JS-HTML加载执行.md</a></li><li><a href="/frontend-knowledge/性能优化/3.懒加载-预加载.html" class="sidebar-link">3.懒加载-预加载.md</a></li><li><a href="/frontend-knowledge/性能优化/4.重绘-回流.html" class="sidebar-link">4.重绘-回流.md</a></li><li><a href="/frontend-knowledge/性能优化/5.浏览器存储.html" class="sidebar-link">5.浏览器存储.md</a></li><li><a href="/frontend-knowledge/性能优化/6.浏览器缓存.html" class="sidebar-link">6.浏览器缓存.md</a></li><li><a href="/frontend-knowledge/性能优化/7.服务端性能优化.html" class="sidebar-link">7.服务端性能优化.md</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Images</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/frontend-knowledge/性能优化/React性能优化.html" class="sidebar-link">React性能优化.md</a></li><li><a href="/frontend-knowledge/性能优化/Web图片优化.html" class="sidebar-link">Web图片优化.md</a></li><li><a href="/frontend-knowledge/性能优化/webpack性能优化.html" class="sidebar-link">webpack性能优化.md</a></li><li><a href="/frontend-knowledge/性能优化/性能优化.html" class="sidebar-link">性能优化.md</a></li><li><a href="/frontend-knowledge/性能优化/聊聊如何搭建高性能网站.html" class="active sidebar-link">聊聊如何搭建高性能网站.md</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-knowledge/性能优化/聊聊如何搭建高性能网站.html#为什么会「慢」" class="sidebar-link">为什么会「慢」</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/性能优化/聊聊如何搭建高性能网站.html#排查手段" class="sidebar-link">排查手段</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/性能优化/聊聊如何搭建高性能网站.html#优化指标" class="sidebar-link">优化指标</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化2</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>手写代码</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>模块化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器渲染</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>真题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>错误监控</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="聊聊如何搭建高性能网站"><a href="#聊聊如何搭建高性能网站" class="header-anchor">#</a> 聊聊如何搭建高性能网站</h1> <p>在开发中经常会遇到网站的性能瓶颈，打开慢的情况。我们平常开发中应该怎么一步步排查这些问题并解决呢？</p> <blockquote><p>在快节奏的时代中，慢是个不容忍受的事情。</p></blockquote> <h2 id="为什么会「慢」"><a href="#为什么会「慢」" class="header-anchor">#</a> 为什么会「慢」</h2> <p>慢的情况是多种多样的，比如：</p> <ul><li>用户体验感差，感觉「慢」</li> <li>JavaScript 执行慢</li> <li>接口响应慢</li> <li>资源加载慢</li> <li>浏览器渲染慢</li> <li>。。。</li></ul> <p>反正一定是我们的问题，不能是用户的问题。</p> <h2 id="排查手段"><a href="#排查手段" class="header-anchor">#</a> 排查手段</h2> <p>我们从几个方面着手讲一下排查问题的手段。</p> <h3 id="技术上的选择"><a href="#技术上的选择" class="header-anchor">#</a> 技术上的选择</h3> <p>在日常开发中，技术上的选择是非常重要的。</p> <p>为什么要说这个，因为现象频发。前端工程化严重的当下，轻量化的框架逐渐被遗忘。然而并不是所有业务场景都适合使用工程化框架，react / vue 并不轻量。</p> <blockquote><p>复杂的框架是为了解决复杂的业务场景。</p></blockquote> <p>如果只是研发宣发、展示等场景简单的业务场景时，原生开发配合一些轻量化的插件更合适。</p> <p>多页面应用也并不都是缺点，根绝业务场景选择不一样的技术都是非常重要的，是每个前端都应该反思的事情。</p> <p>这方面是导致卡顿的关键问题。</p> <h3 id="network"><a href="#network" class="header-anchor">#</a> NetWork</h3> <p>我们的老朋友 NetWork 想必每位前端开发都非常熟悉，我们先来看一下 network 面板：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87dbcd5fcd6c46b6b8b153f570e183ed~tplv-k3u1fbpfcp-zoom-1.image?imageslim" alt="img"></p> <p>从面板上我们可以看出一些信息：</p> <ul><li>请求资源 size</li> <li>请求资源时长</li> <li>请求资源数量</li> <li>接口响应时长</li> <li>接口发起数量</li> <li>接口报文 size</li> <li>接口响应状态</li> <li>瀑布图</li></ul> <p>瀑布图就是上方图片后面的 waterfall 纵列。</p> <p>瀑布图是一个级联图，展示了浏览器如何加载资源并渲染页面。图中的每一行都是一次单独的浏览器请求。这个图越长，说明加载网页过程中所发的请求越多。每一行的宽度，代表浏览器发出请求并下载该资源的过程中所耗费的时间，它的侧重点在于分析网路链路。</p> <p>瀑布图颜色说明：</p> <ul><li><strong>DNS Lookup 【深绿色】</strong> ：在浏览器和服务器通信之前，必须经过 DNS 查询，将域名转换成 IP 地址，在这个阶段你可以处理的东西很少。但幸运的是，并非所有请求都需要经过这一步。</li> <li><strong>Initial Connection 【橙色】</strong> ：在浏览器发送请求之前，必须建立 TCP 连接。这个过程仅仅发生在瀑布图中的开头几行，否则这就是个性能问题。</li> <li>SSL / TLS Negotiation【紫色】：如果你的页面是通过 SSL / TLS 这类安全协议加载资源，这段时间就是浏览器建立安全连接的过程。目前 Google 将 HTTPS 作为其搜索排名因素之一，SSL / TLS 协议的使用变得越来越普遍。</li> <li><strong>Time To First Byte（TTFB）【绿色】：</strong> TTFB 是浏览器请求发送到服务器的时间 + 服务器处理请求时间 + 响应报文的第一字节到达浏览器的时间。我们用这个指标来判断你的 web 服务器是否性能不够，或者你是否需要 CDN。</li> <li><strong>Downloading【蓝色】</strong> ：这是浏览器用来下载资源所用时间。这段时间越长，说明资源越大。理想情况下，你可以通过控制资源的大小来控制这段时间的长度。</li></ul> <p>那么除了瀑布图的长度外，我们如何才能判断一个瀑布图的状态是 <strong>健康</strong> 的呢？</p> <ul><li>首先，减少所有资源的加载时间，即减小瀑布图的宽度。瀑布图越窄，网站的访问速度越快。</li> <li>其次，减少请求数量，也就是降低瀑布图的高度，瀑布图越矮越好。</li> <li>最后，通过优化资源请求顺序来加快渲染时间。从图上看，就是将绿色的「开始渲染」线左移，这条线向左移动的越远远好。</li></ul> <p>这样我们就可以从 Network 角度去排查「慢」的问题。</p> <h3 id="webpack-bundle-analyzer"><a href="#webpack-bundle-analyzer" class="header-anchor">#</a> webpack-bundle-analyzer</h3> <p>项目构建后生成的 bundle包是压缩后的。webpack-bundle-analyzer 是一款包分析工具。我们先来看看它能带来的效果：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9917c642fa5a4045839b4d0af2c299b2~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p> <p>从上图来看，我们的 bundle 包被解析的一览无余。其中模块面积越大说明在 bundle 包中的体积越大，就值得注意和优化。</p> <p>它能够排查出来的信息有：</p> <ul><li>显示包中所有打入的模块</li> <li>显示模块 size 以及 gzip 后的 size</li></ul> <p>排查包中的模块情形是非常有必要的，通过 webpack-bundle-analyzer 来排查出一些无用的模块，过大的模块，然后进行优化，减小我们 bundle 的体积，减少加载市场</p> <h3 id="performance"><a href="#performance" class="header-anchor">#</a> Performance</h3> <p>Chrome 自带的 performance 模块，先附上一个官网文档传送门：<a href="https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/?utm_source=devtools" target="_blank" rel="noopener noreferrer">Performance<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <p>可以检测出很多方面的问题，多数情况的性能排查上用的比较多，如果想要深入了解的同学可以看一下官方文档。</p> <p>我们来看一下 performance 面板能够为我们提供什么信息：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3027b177f77f49e3866eeecedefaa70b~tplv-k3u1fbpfcp-zoom-1.image?imageslim" alt="img"></p> <p>从上图中我们可以分析出一些指标</p> <ul><li>FCP / LCP 时间是否过长</li> <li>请求并发情况，是否并发频繁</li> <li>请求发起顺序是否不对</li> <li>JavaScript 执行是否过慢</li></ul> <p>这些指标是我们需要重点关注的，当然 performance 的功能不止于此。</p> <h3 id="抓包"><a href="#抓包" class="header-anchor">#</a> 抓包</h3> <p>有一些业务状况是没有上述的一些调试工具的，此时我们可以利用抓包工具进行对页面信息的抓取，这里我推荐一款抓包工具<a href="https://www.charlesproxy.com/" target="_blank" rel="noopener noreferrer">charles<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。使用教程网上很多，自行搜索即可。</p> <h2 id="优化指标"><a href="#优化指标" class="header-anchor">#</a> 优化指标</h2> <p>这里我们讲一下如何优化上述指标和一些导致满的情况。</p> <h3 id="tree-shaking"><a href="#tree-shaking" class="header-anchor">#</a> tree shaking</h3> <p>摇树是 webpack 构建优化中重要的一环，主要用于清除我们项目中一些无用代码，它依赖于 ES 中的模块语法。</p> <p>比如日常使用lodash的时候</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">'lodash'</span>
</code></pre></div><p>如果如上引用lodash库，在构建包的时候是会把整个lodash包打入到我们的bundle包中的。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> _isEmpty <span class="token keyword">from</span> <span class="token string">'lodash/isEmpty'</span><span class="token punctuation">;</span>
</code></pre></div><p>如果如上引用lodash库，在构建包的时候只会把isEmpty这个方法抽离出来再打入到我们的bundle包中。</p> <p>这样的化就会大大减少我们包的size。所以在日常引用第三方库的时候，需要注意导入的方式。</p> <p>在 Webpack 4.x 中只需要 mode 换成 production 即可默认开启摇树。</p> <h3 id="split-chunks"><a href="#split-chunks" class="header-anchor">#</a> split chunks</h3> <p>拆包。</p> <p>在没有配置任何东西的情况下，webpack 4 就能只能帮你做代码切割。入口文件依赖的文件都被打包到 main.js ，而那些大于 30kb 的第三方依赖都会被打包到 vendors 中。</p> <p>其他被我们设置了一步加载的页面或者组件也会变成一个个 chunk，也就是被打包成一个个独立的 bundle。</p> <p>它内置的代码分割策略大致如下：</p> <ul><li>新的 chunk 是否被共享或者是否来自 node_modules</li> <li>新的 chunk 提及在压缩之前是否大于 30kb</li> <li>按需加载 chunk 的并发请求数量小于等于 5 个</li> <li>页面初始加载时的并发请求数量小于等于 5 个</li></ul> <p>同时，我们在打包过程中，对于一些不太会变动的第三方依赖，可以选择不将它们打包进来，而是采用 CDN 的方式，这样既加快了打包速度，也可以充分利用缓存提高加载速度。</p> <h3 id="gzip"><a href="#gzip" class="header-anchor">#</a> gzip</h3> <p>服务端配置 gzip 压缩后可以大大缩减资源的大小，从而达到加载速度的提升。</p> <h3 id="图片压缩"><a href="#图片压缩" class="header-anchor">#</a> 图片压缩</h3> <p>开发中比较重要的一个环节，因为设备像素点的关系，UI 给予的图片一般都是 x2，x4的，所以压缩就非常有必要。</p> <h3 id="图片分割"><a href="#图片分割" class="header-anchor">#</a> 图片分割</h3> <p>如果页面中有一张效果图，比如真机渲染图，UI 手拿着刀不让你压缩。这时候不妨考虑一下分割图片。</p> <p>建议单张土图片的大小不要超过 100k，我们在分割完图片后，通过布局再拼接在一起。可以图片加载效率。</p> <p>这里注意一点，分割后的每张图片一定要给高度，否则网速慢的情况下样式会塌陷。</p> <h3 id="sprite"><a href="#sprite" class="header-anchor">#</a> sprite</h3> <p>雪碧图，通过将多个小图标合并成一张大图片，从而减少请求数量达到加快加载速度的方法。</p> <p>目前随着 HTTP/2 的推动，已经不需要这种方式了。</p> <h3 id="cdn"><a href="#cdn" class="header-anchor">#</a> CDN</h3> <p>内容分发网络，将资源分发到多台不同的服务器上，这样客户端请求的时候直接请求距离最近的服务器，从而让资源加载速度变快。</p> <h3 id="懒加载"><a href="#懒加载" class="header-anchor">#</a> 懒加载</h3> <p>在长网页中，例如购物网站，当资源没有滚动到可视区域的时候，不选择加载，可以减少客户端渲染的压力。</p> <h3 id="逻辑后移"><a href="#逻辑后移" class="header-anchor">#</a> 逻辑后移</h3> <p>逻辑后移是一种比较常见的优化手段。用一个打开文章网站的操作来举个例子。</p> <p>没有逻辑后移处理的请求顺序是这个样子的</p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/46f8e43dbe2345af85aa232e59a79fc1~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p> <p>页面的展示主体是文章展示，如果文章展示的请求靠后了，那么渲染文章出来的时间必然靠后，因为有可能因为请求阻塞等情况，影响请求响应情况，如果超过一次并发的情况的话，会更加的慢。如图的这种情况也是在我们项目中发生过的。</p> <p>很明显我们应该把主体“请求文章”接口前移，把一些非主体的请求逻辑后移。这样的话可以尽快的把主体渲染出来，就会快很多。</p> <p>优化后的顺序是这个样子的。</p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d161a61ec94d42ed9b48cf3b00eb12fa~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p> <p>在平常的开发中建议时常注意逻辑后移的情况，突出主体逻辑。可以极大的提升用户体验。</p> <h3 id="算法复杂度"><a href="#算法复杂度" class="header-anchor">#</a> 算法复杂度</h3> <p>在数据量大的应用场景中，需要着重注意算法复杂度问题。</p> <p>如上面 Performance 解析出的 Javascript 执行指标上，可以推测出来你的代码执行效率如何，如果执行时间过长就要考虑一下是否要优化一下复杂度了。</p> <blockquote><p>在时间换空间，空间换时间的选择上，要根据业务场景来进行取舍。</p></blockquote> <h3 id="组件渲染"><a href="#组件渲染" class="header-anchor">#</a> 组件渲染</h3> <p>拿 react 举例，组件分割方面不要太深。需要控制组件的渲染，尤其是深层组件的 render。</p> <p>老生常谈的话题，我们可以一些方式来优化组件渲染</p> <ul><li>声明周期控制：比如 react 的 shouldComponentUpdate 来控制组件渲染。</li> <li>官网提供的api：PureComponent</li> <li>控制注入组件的参数</li> <li>分配组件唯一 key</li></ul> <p>没有必要的渲染是对性能的极大浪费。</p> <h3 id="node-middleware"><a href="#node-middleware" class="header-anchor">#</a> node middleware</h3> <p>中间件。</p> <p>中间件主要是指封装所有 Http 请求细节处理的方法。一次 Http 请求通常包含很多工作，如记录日志、ip过滤、查询字符串、请求体解析、Cookie处理、权限验证、参数验证、异常处理等，但对于 Web 应用而言，并不希望接触到这么多细节性的处理，因此引入中间件来简化和隔离这些基础设施与业务逻辑之间的细节，让我们能够关注在业务的开发上，以达到提升开发效率的目的。</p> <p>使用 node middleware 合并请求。减少请求次数。这种方式也是非常实用的。</p> <h3 id="web-worker"><a href="#web-worker" class="header-anchor">#</a> Web Worker</h3> <p>Web Worker 的作用，就是为 JavaScript 创造多线程环境，允许主线程创建 Worker 线程，将一些任务分配给后者运行。在主线程运行的同时，Worker 线程在后台运行，两者互不干扰。等到 Worker 线程完成计算任务，再把结果返回给主线程。这样的好处是，一些计算密集型或高延迟的任务，被 Worker 线程负担了，主线程（通常负责 UI 交互）就会很流畅，不会被阻塞或拖慢</p> <h3 id="缓存"><a href="#缓存" class="header-anchor">#</a> 缓存</h3> <p>充分利用缓存，达到根本不需要请求。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend-knowledge/性能优化/性能优化.html" class="prev">
        性能优化.md
      </a></span> <span class="next"><a href="/frontend-knowledge/性能优化2/1-性能优化的指标和工具.html">
        1-性能优化的指标和工具.md
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/frontend-knowledge/assets/js/app.93aef0cf.js" defer></script><script src="/frontend-knowledge/assets/js/2.8c63181c.js" defer></script><script src="/frontend-knowledge/assets/js/244.8e20f76e.js" defer></script>
  </body>
</html>
