<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cookie 的 SameSite 属性 | 前端知识</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="主要记录自己对前端知识的梳理和理解。">
    
    <link rel="preload" href="/frontend-knowledge/assets/css/0.styles.1d57cce0.css" as="style"><link rel="preload" href="/frontend-knowledge/assets/js/app.0402f195.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/2.5914004f.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/360.97db3d3d.js" as="script"><link rel="prefetch" href="/frontend-knowledge/assets/js/10.1e4b642c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/100.d6ef896e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/101.b2f93d54.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/102.1a02beb8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/103.d6a5e00c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/104.6d0fd67a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/105.58c8fb40.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/106.a3ee0ed9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/107.4855feab.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/108.736267e5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/109.dbcf49f5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/11.827d7963.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/110.f7f698e6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/111.eaa10656.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/112.63862b09.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/113.45263694.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/114.84775b66.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/115.ef711106.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/116.d1922818.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/117.c350ca13.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/118.a4758f00.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/119.f57a9a75.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/12.ade45fc2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/120.90da351a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/121.94dbaac4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/122.e9a3c18b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/123.635b92ad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/124.dd673ce7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/125.5757e609.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/126.b293d1e8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/127.63d367cd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/128.50953ca3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/129.46b32add.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/13.22a48b68.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/130.f1de0271.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/131.5616c941.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/132.7b4ba87c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/133.75fe5be9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/134.1c578ffc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/135.e66d2ad4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/136.fa787ebb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/137.931c5cd3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/138.1e1e680f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/139.ddde6766.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/14.b629ed97.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/140.f7841aa9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/141.dd1ff58f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/142.a44e865e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/143.e2e7a6bd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/144.9c5c838b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/145.7bb9f461.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/146.fc14f14e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/147.16e76d88.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/148.2d0cc623.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/149.50999739.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/15.ce97fcff.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/150.2b151591.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/151.a2d8852e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/152.dffad09f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/153.93fa5f69.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/154.35dd7b57.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/155.5484e307.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/156.f8a9c345.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/157.3a871572.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/158.bc69dcd7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/159.d5285d27.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/16.00f7c458.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/160.d362b820.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/161.e01b1450.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/162.961afdad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/163.7e9feb12.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/164.3034ae22.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/165.32e41c61.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/166.e38179e9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/167.92e3a003.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/168.9dd756ad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/169.9b5f08ad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/17.0007d2fd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/170.b0b9d9e8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/171.aac588bf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/172.4adcb344.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/173.0d55786e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/174.2678673e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/175.d988b38a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/176.2be077bf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/177.35bcadac.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/178.b7b13ddf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/179.44692080.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/18.69e10cac.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/180.9b7e3213.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/181.74ad9290.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/182.8c8e3dcf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/183.ca957296.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/184.2ce3b134.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/185.e3b6de48.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/186.20bc6fb7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/187.0f67804b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/188.670f28ee.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/189.7d1be8ad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/19.6aab4fff.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/190.ee5a932a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/191.48f751ca.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/192.a4f8769a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/193.d241bd95.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/194.37136556.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/195.cd8fabf1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/196.08c6afdd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/197.f854ed42.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/198.9bfc2afa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/199.04a36d17.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/20.ae7e0528.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/200.36efd9b3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/201.d8be8208.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/202.dcbd24c6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/203.95002392.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/204.7bee7536.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/205.cb40a568.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/206.4b7c6136.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/207.c3f872f8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/208.e53b1a33.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/209.b61a6218.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/21.76ef7464.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/210.6487984e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/211.a2ea83ee.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/212.4d263a12.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/213.b60e2b5c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/214.e223167e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/215.9c5c292b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/216.45d42968.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/217.484e80bc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/218.0dd8d054.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/219.da37219a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/22.36fa8176.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/220.bf861327.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/221.27bc62a0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/222.4ebe84ad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/223.e5a0c6e5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/224.30ebeaf0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/225.5af151be.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/226.cf06d86f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/227.3b622206.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/228.954a20a2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/229.6492fc16.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/23.0df25997.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/230.3e213148.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/231.83b09d2a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/232.70aa9b0d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/233.5d131b62.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/234.7bfe986f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/235.5b3e624d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/236.b0ab778b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/237.94deea49.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/238.8f75c96b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/239.49062a5d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/24.f7691193.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/240.320a9ffb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/241.267ace20.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/242.50c323b4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/243.77e8aad6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/244.40f890c7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/245.e13917d8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/246.86f95f32.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/247.f4e0b76c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/248.a53f97a8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/249.741e1170.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/25.e377f067.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/250.5f0105b3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/251.26702aeb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/252.5fc76a8e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/253.6fb823f2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/254.56c6bd22.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/255.d5153beb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/256.1da4e5b5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/257.65f091df.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/258.6dd45729.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/259.c9e9ea51.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/26.5cd48832.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/260.c1b453aa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/261.032059b6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/262.67fb29a4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/263.99e7481d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/264.c006dbd7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/265.57267afd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/266.c0e8bf31.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/267.c81e3da7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/268.1d62278f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/269.b6c790c4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/27.8f63dd21.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/270.ee83016b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/271.b71d2607.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/272.958d089a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/273.44c73476.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/274.729c83ab.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/275.89b27d78.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/276.36cc3121.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/277.c7bdc175.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/278.e9564410.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/279.d6b51a12.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/28.b60dc53c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/280.c3f8fd85.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/281.d25b769f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/282.5a4e1471.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/283.76b7dd22.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/284.81213fad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/285.19ebc5d0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/286.ab248716.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/287.b649543c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/288.b4b08eaa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/289.0fa8b1be.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/29.fd2e2bab.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/290.d0effbcf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/291.caf1b35d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/292.5f0d2b76.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/293.e0af5640.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/294.6e3af8db.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/295.d37497a6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/296.9ffd2c25.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/297.79713793.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/298.53e6d291.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/299.317fd16f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/3.d759bbd8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/30.ac2fa55b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/300.8e792df7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/301.33c8eb7c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/302.d89e8598.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/303.8e46973e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/304.e5a835a4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/305.517e469b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/306.3d655da8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/307.fa7a350e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/308.37639e36.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/309.204fc7e1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/31.738797f9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/310.0a4754fc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/311.629c7c6a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/312.310c6240.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/313.6fe207ee.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/314.0cdd5211.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/315.8c1fb859.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/316.0e8b983f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/317.90fbbe7f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/318.dc7a97f9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/319.0be77c7e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/32.dc166b3e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/320.2724de89.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/321.d728d062.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/322.664feb1e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/323.eb2b880a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/324.1bb0584f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/325.1c779775.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/326.26f0d27a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/327.c5f3f455.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/328.480f945a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/329.fd80a238.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/33.bcbda1ef.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/330.a222fdc0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/331.9e1cf4cc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/332.c5480398.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/333.54550a06.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/334.c50aefe2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/335.35eb11b4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/336.bb9846b4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/337.2b9f294e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/338.05b56f9a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/339.2382759c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/34.4f2c8ac4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/340.cc307f5f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/341.91847cdb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/342.c01c5d97.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/343.924067f3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/344.ed79ccbc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/345.6441ee0a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/346.1868ba57.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/347.100a56d0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/348.1ab1962d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/349.b43fa648.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/35.12858592.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/350.4844e7ff.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/351.189186fb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/352.23f458be.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/353.a9421648.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/354.04c1544d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/355.6907fbf1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/356.af002348.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/357.843026d9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/358.a13c98f0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/359.ba507d5d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/36.2b95b7fe.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/361.4723190f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/362.1fcf7844.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/363.2a64cab9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/364.7f2349d2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/365.8f7cf9f8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/366.4b53c698.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/367.734f3f40.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/368.922edac2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/369.42f5bc16.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/37.f3101b54.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/370.72147519.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/371.583bbdf5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/372.dec86647.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/373.e6463225.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/374.0a61ccb0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/375.280565c0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/376.2d9987f3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/377.aa1d047f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/38.c04f0717.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/39.b1548e8a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/4.61746ebf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/40.46a17080.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/41.33142edd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/42.3276383a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/43.3dc43fb1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/44.9a402979.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/45.45bd0b7c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/46.58e455fe.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/47.fdb53aee.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/48.37cb2f38.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/49.f6d64e2a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/5.5e348235.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/50.58cbf191.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/51.58825e23.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/52.79566344.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/53.fd790d06.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/54.835d26fd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/55.612af77f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/56.639802fd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/57.a7f65c76.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/58.20a1dd5f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/59.6328a8bd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/6.8d3c789f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/60.a3080be2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/61.3c3e5eb1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/62.75cede3f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/63.a68e7cf0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/64.99bebc79.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/65.8a1569fd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/66.7aebd02b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/67.fbf9bcfc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/68.fe129df9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/69.614ec6b2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/7.66b22dce.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/70.8c5a6d43.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/71.5d59a984.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/72.3679aa09.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/73.5a276d17.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/74.adf423af.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/75.c01520f2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/76.b7905a83.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/77.b58585f9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/78.18b18bd5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/79.85054fce.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/8.cd8cecf9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/80.5541e040.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/81.c23e60fe.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/82.7b960333.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/83.86582461.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/84.298978c4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/85.f702b5ea.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/86.f0a53670.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/87.72cd178f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/88.760f2849.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/89.382a13e9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/9.e12d3576.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/90.e27d1929.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/91.3f9dd520.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/92.cbd1b7ac.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/93.0ba51146.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/94.0c8835f6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/95.55561560.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/96.424e0c0f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/97.4384513e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/98.4dedff42.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/99.8ef0dcd4.js">
    <link rel="stylesheet" href="/frontend-knowledge/assets/css/0.styles.1d57cce0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-knowledge/" class="home-link router-link-active"><!----> <span class="site-name">前端知识</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/chuckbass2121/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/chuckbass2121/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/frontend-knowledge/" aria-current="page" class="sidebar-link">README.md</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实践篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>手写代码</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>模块化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器渲染</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>真题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/网络/CDN加速原理.html" class="sidebar-link">CDN加速原理.md</a></li><li><a href="/frontend-knowledge/网络/Cookie的SameSite属性.html" class="active sidebar-link">Cookie的SameSite属性.md</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-knowledge/网络/Cookie的SameSite属性.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/网络/Cookie的SameSite属性.html#http" class="sidebar-link">HTTP</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/网络/Cookie的SameSite属性.html#cookie" class="sidebar-link">Cookie</a></li></ul></li><li><a href="/frontend-knowledge/网络/DNS服务器.html" class="sidebar-link">DNS服务器.md</a></li><li><a href="/frontend-knowledge/网络/HTTPS.html" class="sidebar-link">HTTPS.md</a></li><li><a href="/frontend-knowledge/网络/HTTPS的握手过程.html" class="sidebar-link">HTTPS的握手过程.md</a></li><li><a href="/frontend-knowledge/网络/HTTP报文.html" class="sidebar-link">HTTP报文.md</a></li><li><a href="/frontend-knowledge/网络/HTTP版本.html" class="sidebar-link">HTTP版本.md</a></li><li><a href="/frontend-knowledge/网络/HTTP状态码.html" class="sidebar-link">HTTP状态码.md</a></li><li><a href="/frontend-knowledge/网络/HTTP相关.html" class="sidebar-link">HTTP相关.md</a></li><li><a href="/frontend-knowledge/网络/nginx.html" class="sidebar-link">nginx.md</a></li><li><a href="/frontend-knowledge/网络/三次握手四次挥手.html" class="sidebar-link">三次握手四次挥手.md</a></li><li><a href="/frontend-knowledge/网络/前后端鉴权.html" class="sidebar-link">前后端鉴权.md</a></li><li><a href="/frontend-knowledge/网络/对称加密和非对称加密.html" class="sidebar-link">对称加密和非对称加密.md</a></li><li><a href="/frontend-knowledge/网络/网络传输过程.html" class="sidebar-link">网络传输过程.md</a></li><li><a href="/frontend-knowledge/网络/网络协议.html" class="sidebar-link">网络协议.md</a></li><li><a href="/frontend-knowledge/网络/跨域.html" class="sidebar-link">跨域.md</a></li><li><a href="/frontend-knowledge/网络/零距离接触websocket.html" class="sidebar-link">零距离接触websocket.md</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>错误监控</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cookie-的-samesite-属性"><a href="#cookie-的-samesite-属性" class="header-anchor">#</a> Cookie 的 SameSite 属性</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>2 月份发布的 Chrome 80 版本中默认屏蔽了第三方的 Cookie，这导致了线上非常多的问题，着实推动了大家对 Cookie 的理解，所以很有可能会有相关的面试题，即便不是面试题，当问到 HTTP 相关内容时，不妨也扯到这件事情上，一能表明你对前端时事的跟进，二能借此引申到前端安全方面的内容，为你的面试加分。</p> <p>本文就给大家介绍一下浏览器的 Cookie 以及这个“火热”的 SameSite 属性。</p> <h2 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h2> <p>一般我们都会说「HTTP 是一个无状态协议」，不过要注意这里的 HTTP 其实指的是 HTTP/1.x，而所谓无状态协议，简单的理解便是即使同一个客户端连续两次发送请求给服务器，服务器也识别不出这是同一个客户端发送的请求，这导致的问题就是比如你加了一个商品到购物车中，但因为识别不出是同一个客户端，你刷新页面就消失了。</p> <h2 id="cookie"><a href="#cookie" class="header-anchor">#</a> Cookie</h2> <p>为了解决 HTTP 无状态导致的问题，后面推出了 Cookie。</p> <p>不过这样说可能会让你产生一些误解。首先无状态并不是不好，有优点，但也会导致一些问题。而 Cookie 的存在也不是为了解决通讯无状态的问题，只是为了解决客户端与服务端会话状态的问题，这个状态是指后端服务的状态而非通讯协议的状态。</p> <h3 id="cookie-介绍"><a href="#cookie-介绍" class="header-anchor">#</a> Cookie 介绍</h3> <p>我们看一下 Cookie，引用维基百科：</p> <blockquote><p>Cookie，类型为「小型文本文件」，指某些网站为了辨别用户身份而储存在用户本地终端上的数据。</p></blockquote> <p>作为一段一般不超过 4KB 的小型文本数据，它由一个名称（Name）、一个值（Value）和其他几个用于介绍控制 Cookie 有效期、安全性、使用范围的可选属性组成，这涉及的属性我们会在后面介绍。</p> <h3 id="cookie-的查看"><a href="#cookie-的查看" class="header-anchor">#</a> Cookie 的查看</h3> <p>我们可以在浏览器开发者工具中查看到当前页面的 Cookie，尽管我们是在浏览器中看到了 Cookie，这并不意味着 Cookie 文件只是存放在浏览器里。实际上，Cookie 相关的内容还可以存在本地文件中，就比如说 Max 下的 Chrome，存放目录就是 <code>~/Library/Application Support/Google/Chrome/Default</code> ，里面会有一个名为 Cookies 的数据库文件，你可以使用 sqlite 软件打开它。</p> <p>存放在本地的好处就在于即使你关闭了浏览器，Cookie 依然可以生效。</p> <h3 id="cookie-的设置"><a href="#cookie-的设置" class="header-anchor">#</a> Cookie 的设置</h3> <p>简单来说：</p> <ol><li>客户端发送 HTTP 请求</li> <li>服务器收到 HTTP 请求，在响应头里面添加一个 Set-Cookie 字段</li> <li>浏览器受到相应后保存下 Cookie</li> <li>之后对该服务器每一次请求中都通过 Cookie 字段将 Cookie 信息发送给服务器</li></ol> <h3 id="cookie-的属性"><a href="#cookie-的属性" class="header-anchor">#</a> Cookie 的属性</h3> <h4 id="name-value"><a href="#name-value" class="header-anchor">#</a> Name/Value</h4> <p>用 JS 操作 Cookie 的时候注意对 Value 进行编码处理。</p> <h4 id="expires"><a href="#expires" class="header-anchor">#</a> Expires</h4> <p>用于设置 Cookie 的过期时间。</p> <p>当 Expires 缺省的时候，表示是会话性 Cookie。当 Cookie 为会话性时，值会保存在浏览器内存中，用户关闭浏览器时会失效。需要注意的是，部分浏览器提供了会话恢复功能，这种情况下即便关闭了浏览器，会话期 Cookie 也会被保留下来，就好像浏览器从来没有关闭一样。</p> <p>与会话性 Cookie 相对的是持久性 Cookie，持久性 Cookie 会保存在用户的硬盘中，直至过期或者清除 Cookie。</p> <p>这里值得注意的是，设定的日期和时间只和客户端相关，而不是服务端。</p> <h4 id="max-age"><a href="#max-age" class="header-anchor">#</a> Max-Age</h4> <p>用于设置在 Cookie 失效之前需要经过的秒数。</p> <p>Max-Age 可以为正数、负数、甚至是 0.</p> <p>如果为正数，浏览器会将其持久化，即写到对应的 Cookie 文件中。</p> <p>如果属性为负数，表示该 Cookie 只是一个会话性 Cookie。</p> <p>当为 0 时，会立即删除这个 Cookie。</p> <p>如果 Expires 和 Max-Age 同时存在时，Max-Age 优先级更高。</p> <h4 id="domain"><a href="#domain" class="header-anchor">#</a> Domain</h4> <p>Domain 制定了 Cookie 可以送达的主机名。假如没有指定，那么默认值为当前文档访问地址中的主机部分（但是不包含子域名）。</p> <p>像淘宝首页设置的 Domain 就是 <code>.taobao.com</code> ，这样不论是 <code>a.taobao.com</code> 还是 <code>b.taobao.com</code> 都可以使用 Cookie。</p> <p>这里需要注意的是，不能跨域设置 Cookie，这样设置是无效的。</p> <h4 id="path"><a href="#path" class="header-anchor">#</a> Path</h4> <p>Path 指定了一个 URL 路径，这个路径必须出现在要请求的资源的路径中才可以发送 Cookie 首部。比如设置了 <code>Path=/docs</code> 下的资源会带 Cookie 首部， <code>/test</code> 则不会携带 Cookie 首部。</p> <p>Domain 和 Path 标识共同定义了 Cookie 的作用域：即 Cookie 应该发送给哪些 URL。</p> <h4 id="secure-属性"><a href="#secure-属性" class="header-anchor">#</a> Secure 属性</h4> <p>标记为 Secure 的 Cookie 只应通过被 HTTPS 协议加密过的请求发送给服务端。使用 HTTPS 安全协议可以保护 Cookie 在浏览器和服务器之间传输过程不被窃取和篡改。</p> <h4 id="httponly"><a href="#httponly" class="header-anchor">#</a> HTTPOnly</h4> <p>设置 HTTPOnly 属性可以防止客户端脚本通过 <code>document.cookie</code> 等方式访问 Cookie，有助于避免 XSS 攻击。</p> <h4 id="samesite"><a href="#samesite" class="header-anchor">#</a> SameSite</h4> <p>这是一个非常值得讨论的内容。</p> <h5 id="作用"><a href="#作用" class="header-anchor">#</a> 作用</h5> <p>SameSite 属性可以让 Cookie 在跨站请求是不会被发送，从而可以阻止跨站请求伪造（CSRF）。</p> <h5 id="属性值"><a href="#属性值" class="header-anchor">#</a> 属性值</h5> <p>SameSite 可以有下面三种值：</p> <ol><li><strong>Strict</strong> ：仅允许一方请求携带 Cookie，即浏览器只发送相同站点请求的 Cookie，即当前网页 URL 与请求目标 URL 完全一致；</li> <li><strong>Lax</strong> ：允许部分第三方请求携带 Cookie；</li> <li><strong>None</strong> ：无论是否跨站都会发送 Cookie。</li></ol> <p>之前默认是 None，Chorme80 之后默认是 Lax。</p> <h5 id="跨站和跨域"><a href="#跨站和跨域" class="header-anchor">#</a> 跨站和跨域</h5> <p>首先要理解一点就是跨站和跨域是不同的。「同站（same-site）/跨站（cross-site）」和「第一方（first-party）/第三方（third-party）」是等价的。但是与浏览器同源策略（SOP）中的「同源（same-origin）/跨域（cross-origin）」是完全不同的概念。</p> <p>同源策略的同源是指两个 URL 的协议 / 主机名 / 端口一致。同源策略作为浏览器的安全基石，其「同源」判断是比较严格的。</p> <p>而相对来说，Cookie 中的「同站」判断就比较宽松：只要两个 URL 的 eTLD + 1 相同即可，不需要考虑协议和端口。其中 eTLD 表示有效顶级域名，注册于 Mozilla 维护的公共后缀列表（Public Suffix List）中，例如：<code>.com</code> 、<code>.cn</code> 等等，eTLD + 1 表示有效顶级域名 + 二级域名，例如： <code>taobao.com</code> 等。</p> <p>举个例子，<code>www.baidu.com</code> 和 <code>www.taobao.com</code> 是跨站， <code>www.a.taobao.com</code> 和 <code>www.b.taobao.com</code> 是同站， <code>a.github.io</code> 和 <code>b.github.io</code> 是跨站。</p> <h5 id="改变"><a href="#改变" class="header-anchor">#</a> 改变</h5> <p>接下来看下从 None 改成 Lax 到底影响了哪些地方的 Cookie 发送：</p> <table><thead><tr><th>请求类型</th> <th>实例</th> <th>以前</th> <th>Strict</th> <th>Lax</th> <th>None</th></tr></thead> <tbody><tr><td>链接</td> <td><code>&lt;a href=&quot;...&quot;&gt;&lt;/a&gt;</code></td> <td>发送 cookie</td> <td>不发送</td> <td>发送 cookie</td> <td>发送 cookie</td></tr> <tr><td>预加载</td> <td><code>&lt;link rel=&quot;prerender&quot; href=&quot;...&quot;/&gt;</code></td> <td>发送 cookie</td> <td>不发送</td> <td>发送 cookie</td> <td>发送 cookie</td></tr> <tr><td>get 表单</td> <td><code>&lt;form method=&quot;GET&quot; action=&quot;...&quot;/&gt;</code></td> <td>发送 cookie</td> <td>不发送</td> <td>发送 cookie</td> <td>发送 cookie</td></tr> <tr><td>post 表单</td> <td><code>&lt;form method=&quot;POST&quot; action=&quot;...&quot;/&gt;</code></td> <td>发送 cookie</td> <td>不发送</td> <td>不发送</td> <td>发送 cookie</td></tr> <tr><td>iframe</td> <td><code>&lt;iframe src=&quot;...&quot;&gt;&lt;/iframe&gt;</code></td> <td>发送 cookie</td> <td>不发送</td> <td>不发送</td> <td>发送 cookie</td></tr> <tr><td>AJAX</td> <td><code>$.get(&quot;...&quot;)</code></td> <td>发送 cookie</td> <td>不发送</td> <td>不发送</td> <td>发送 cookie</td></tr> <tr><td>Image</td> <td><code>&lt;img src=&quot;...&quot;/&gt;</code></td> <td>发送 cookie</td> <td>不发送</td> <td>不发送</td> <td>发送 cookie</td></tr></tbody></table> <p>从表格中可以看到，对大部分 web 应用而言，Post 表单、iframe、ajax、image 这四种情况从跨站会发送第三方 Cookie 变成了不发送。</p> <h3 id="cookie-的作用"><a href="#cookie-的作用" class="header-anchor">#</a> Cookie 的作用</h3> <ol><li>会话状态管理（如用户登录状态、购物车、游戏分数或其他需要记录的信息）；</li> <li>个性化设置（如用户自定义设置、主题等）；</li> <li>浏览器行为跟踪（如跟踪分析用户行为等）。</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend-knowledge/网络/CDN加速原理.html" class="prev">
        CDN加速原理.md
      </a></span> <span class="next"><a href="/frontend-knowledge/网络/DNS服务器.html">
        DNS服务器.md
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/frontend-knowledge/assets/js/app.0402f195.js" defer></script><script src="/frontend-knowledge/assets/js/2.5914004f.js" defer></script><script src="/frontend-knowledge/assets/js/360.97db3d3d.js" defer></script>
  </body>
</html>
