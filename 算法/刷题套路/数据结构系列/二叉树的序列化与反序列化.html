<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>二叉树的序列化与反序列化 | 前端知识</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="主要记录自己对前端知识的梳理和理解。">
    
    <link rel="preload" href="/frontend-knowledge/assets/css/0.styles.1d57cce0.css" as="style"><link rel="preload" href="/frontend-knowledge/assets/js/app.1cec9800.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/2.62f2d1a2.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/287.68a6dd0a.js" as="script"><link rel="prefetch" href="/frontend-knowledge/assets/js/10.cb033405.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/100.1cfff20c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/101.c97c0c53.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/102.237855a3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/103.dbdb89f8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/104.00061043.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/105.a017b90d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/106.fb789a3f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/107.b1260f64.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/108.33366212.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/109.fc62621d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/11.8c9f002b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/110.fb1d9ac5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/111.d29372e8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/112.f1f07bd4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/113.2c77f34a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/114.85c7dfa6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/115.0bdebd25.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/116.c4fe9386.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/117.a61712b5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/118.0494a6f2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/119.4f7c25e4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/12.ba510af0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/120.dae02a41.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/121.79870164.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/122.797f4971.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/123.f96ce342.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/124.4f98c7a3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/125.6da5159e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/126.f3ee9ce4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/127.70c619d4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/128.2abac1af.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/129.d07e5ad2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/13.637e528b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/130.9106a2d0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/131.1451a800.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/132.2e916197.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/133.b5553de4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/134.5318386e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/135.66095667.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/136.4c05537e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/137.b6b7dd8b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/138.74c0af7e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/139.ac96ae2f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/14.90b448a1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/140.53ea5125.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/141.ffdb5f6a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/142.39ad7c99.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/143.a27f0573.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/144.096c30d2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/145.ea5e31c1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/146.8b18bddc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/147.95977d6c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/148.b01ff29a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/149.ace56f69.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/15.77d6091c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/150.2baf0f19.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/151.82fd6c6d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/152.fa3693c5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/153.9f7fed2d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/154.c5c3e87a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/155.5a6c76bc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/156.fdf49347.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/157.20b62dea.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/158.e37460a2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/159.75796385.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/16.e09fb518.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/160.8bc94acd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/161.d7e5ae15.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/162.60ed76e1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/163.8646d8e0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/164.d4fc32f9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/165.0cfbe217.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/166.46703943.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/167.c6d029fe.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/168.923268ef.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/169.3c989f4a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/17.16097bc0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/170.8c60ad04.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/171.c05ceceb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/172.f8810bf2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/173.a53691cd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/174.3ff02851.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/175.50a74e3a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/176.61465fb4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/177.5cd75c2e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/178.f8fff93e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/179.8d0e66ff.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/18.72a03825.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/180.89bd8312.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/181.31ae395f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/182.c27ed932.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/183.dbf6842b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/184.1715511f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/185.5b2bdf63.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/186.d41e855e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/187.def73b08.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/188.81386d52.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/189.cf60dd1b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/19.168b850f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/190.9bd39119.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/191.59bf97e9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/192.edea6b4f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/193.219d51c9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/194.412d0b1b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/195.d3ac99d3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/196.acf5709e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/197.c38f3281.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/198.1ed50c4f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/199.59c4d671.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/20.f3c9ee84.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/200.414c6059.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/201.a3784797.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/202.4f810b3c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/203.408f92f6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/204.a1a392a4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/205.fce0c3f1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/206.33527f58.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/207.ea6e0171.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/208.4d3e0b4c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/209.d2c41966.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/21.ca8fbfb4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/210.d4395409.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/211.b296df72.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/212.a83461de.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/213.f1bc16b0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/214.d8d6938f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/215.395b8a63.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/216.82888203.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/217.179c368f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/218.83d414e7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/219.cbceaf29.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/22.f6ef8b1a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/220.ed3e0796.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/221.ab8a62a7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/222.1c7b49a4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/223.c096efe5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/224.3e09f9eb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/225.3fd70805.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/226.ec7508c0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/227.637f1b97.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/228.59312113.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/229.c7f07759.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/23.29283229.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/230.e6020f41.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/231.c77ba663.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/232.4bb02977.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/233.665eb219.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/234.c5067b90.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/235.c75d0784.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/236.1be515ac.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/237.3d43316e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/238.6133fc57.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/239.a9371c48.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/24.cb3dc1d7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/240.b5776c7d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/241.981927fa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/242.20ba7daa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/243.42989149.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/244.a4570442.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/245.47c0e154.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/246.82aaff0e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/247.1ba5f6e2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/248.6753411f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/249.994b9a6f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/25.557f489f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/250.da5b251a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/251.a294cd86.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/252.cdf046f6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/253.3f9b31a5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/254.edfcddbf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/255.0128a2a0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/256.962d475b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/257.499baef8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/258.102ed941.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/259.5f0a92a0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/26.3f3fe69b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/260.0a16e6a4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/261.1cde38ed.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/262.41c5402f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/263.4731e25c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/264.cf1fe0df.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/265.09c6ac75.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/266.fce79351.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/267.69157382.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/268.e4bb0bd9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/269.3858d043.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/27.bcbf82e8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/270.cfe1dcff.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/271.e995a15a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/272.cb3d6d20.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/273.343cc22e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/274.b17cf9ba.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/275.487cedd6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/276.cbfa007d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/277.63122c08.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/278.9afccf40.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/279.db8bf846.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/28.5fdfdb80.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/280.da0754b0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/281.45df2da6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/282.7b1eca6c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/283.b1f352e4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/284.37935505.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/285.3bfd697e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/286.3a414954.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/288.9a47aa20.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/289.b8ce07f4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/29.b3396301.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/290.768317ef.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/291.77bd7840.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/292.03c83bde.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/293.1aec6f12.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/294.cc368294.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/295.dce0a4d8.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/296.62a37217.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/297.e28c003a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/298.e5f07135.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/299.3672ed89.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/3.e514da99.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/30.52b3e8ca.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/300.62cf5c02.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/301.1a88fc63.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/302.ce627bbb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/303.f1d2d6e0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/304.6118b9d9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/305.a0a24fc1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/306.e7ba31fa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/307.0eda022d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/308.93fbfeb0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/309.0555823d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/31.20c853ca.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/310.06f1f230.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/311.4d7c1965.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/312.5e59a6b3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/313.91d3df87.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/314.f75563fd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/315.1b46bfc9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/316.1867c5b2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/317.5d683392.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/318.d1d9d294.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/319.02661749.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/32.df94b6c0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/320.25cf59ef.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/321.22403905.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/322.2a3d4201.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/323.aa2da01e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/324.b3c44f88.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/325.44895731.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/326.b6ffafb2.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/327.db274c55.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/328.903cf082.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/329.94fbe02d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/33.5046ef25.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/330.49a1fa5c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/34.b55746e5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/35.628c630c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/36.36029402.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/37.6a6af327.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/38.71ec4eae.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/39.dfe5806e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/4.80bc7d2f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/40.af0d3322.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/41.af2f1923.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/42.660e0643.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/43.297c68dc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/44.86d4c424.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/45.03720ba1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/46.7fe4fb02.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/47.84a62c3f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/48.8df2c3da.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/49.77c64bf5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/5.5b93ae0c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/50.b7ef823a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/51.2c9a2a94.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/52.bb65d789.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/53.bafeebdc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/54.b0abb0ac.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/55.932377b4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/56.f8bb49eb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/57.b3f98972.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/58.21e321bd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/59.419939fc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/6.5fc845fb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/60.08d74b08.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/61.da8730c3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/62.de6e9ccf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/63.d909565b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/64.b63aa715.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/65.a703cbf4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/66.bbec4239.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/67.49af75ab.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/68.73a24712.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/69.3a0bbbb7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/7.34dc28a0.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/70.6f5e2ccc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/71.ad8223da.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/72.ea8977cc.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/73.b77b19dd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/74.10c48b8c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/75.e46837ec.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/76.7ac7b14e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/77.2571d098.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/78.422d13be.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/79.3450baad.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/8.8c982acf.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/80.08cef119.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/81.a65707d1.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/82.726f9fa4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/83.6e9a522d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/84.2f4e2ac3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/85.298ebf0a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/86.d2d96d0c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/87.140cbd00.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/88.3cd8a951.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/89.4122850b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/9.640b0c71.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/90.e2c4d923.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/91.04ddd332.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/92.f1b75ce7.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/93.e22216da.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/94.3bd3e162.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/95.6159a545.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/96.ec28b8cd.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/97.6f56bda9.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/98.6b40d328.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/99.87f07f04.js">
    <link rel="stylesheet" href="/frontend-knowledge/assets/css/0.styles.1d57cce0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-knowledge/" class="home-link router-link-active"><!----> <span class="site-name">前端知识</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/chuckbass2121/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/chuckbass2121/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/frontend-knowledge/" aria-current="page" class="sidebar-link">README.md</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实践篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>手写代码</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>模块化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器渲染</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>真题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>算法</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/%E7%AE%97%E6%B3%95/" aria-current="page" class="sidebar-link">README.md</a></li><li><a href="/frontend-knowledge/算法/二分法.html" class="sidebar-link">二分法.md</a></li><li><a href="/frontend-knowledge/算法/二叉树.html" class="sidebar-link">二叉树.md</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>刷题套路</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>动态规划系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>数据结构系列</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/二叉树的序列化与反序列化.html" class="active sidebar-link">二叉树的序列化与反序列化.md</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/二叉树的序列化与反序列化.html#题目描述" class="sidebar-link">题目描述</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/二叉树的序列化与反序列化.html#前序遍历" class="sidebar-link">前序遍历</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/二叉树的序列化与反序列化.html#后序遍历" class="sidebar-link">后序遍历</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/二叉树的序列化与反序列化.html#中序遍历" class="sidebar-link">中序遍历</a></li></ul></li><li><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/手把手带你刷二叉树（一期）.html" class="sidebar-link">手把手带你刷二叉树（一期）.md</a></li><li><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/手把手带你刷二叉树（三期）.html" class="sidebar-link">手把手带你刷二叉树（三期）.md</a></li><li><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/手把手带你刷二叉树（二期）.html" class="sidebar-link">手把手带你刷二叉树（二期）.md</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>第零章、必读系列</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><a href="/frontend-knowledge/算法/动态规划.html" class="sidebar-link">动态规划.md</a></li><li><a href="/frontend-knowledge/算法/双指针.html" class="sidebar-link">双指针.md</a></li><li><a href="/frontend-knowledge/算法/哈希表.html" class="sidebar-link">哈希表.md</a></li><li><a href="/frontend-knowledge/算法/回溯算法.html" class="sidebar-link">回溯算法.md</a></li><li><a href="/frontend-knowledge/算法/复杂度.html" class="sidebar-link">复杂度.md</a></li><li><a href="/frontend-knowledge/算法/字符串.html" class="sidebar-link">字符串.md</a></li><li><a href="/frontend-knowledge/算法/并查集.html" class="sidebar-link">并查集.md</a></li><li><a href="/frontend-knowledge/算法/排序算法.html" class="sidebar-link">排序算法.md</a></li><li><a href="/frontend-knowledge/算法/栈和队列.html" class="sidebar-link">栈和队列.md</a></li><li><a href="/frontend-knowledge/算法/矩阵.html" class="sidebar-link">矩阵.md</a></li><li><a href="/frontend-knowledge/算法/贪心算法.html" class="sidebar-link">贪心算法.md</a></li><li><a href="/frontend-knowledge/算法/链表.html" class="sidebar-link">链表.md</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>错误监控</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="二叉树的序列化与反序列化"><a href="#二叉树的序列化与反序列化" class="header-anchor">#</a> 二叉树的序列化与反序列化</h1> <p>JSON 的运用非常广泛，比如我们经常将语言中的结构体序列化成 JSON 字符串，存入缓存或者通过网络发送给远端，接收方接收到 JSON 字符串之后进行反序列化就可以得到原始数据了。这就是「序列化」与「反序列化」的目的，以某种固定格式组织字符串，使得数据可以独立与编程语言。</p> <p>假设现在有一棵用 Java 实现的二叉树，我想把它序列化成字符串，然后用 C++ 读取并还原这棵二叉树结构，怎么办？这就需要对二叉树进行「序列化」和「反序列化」了。</p> <p><strong>本文会用前序、中序、后序遍历的方式来序列化和反序列化二叉树，进一步还会用迭代式的层级遍历来解决这个问题。</strong></p> <h2 id="题目描述"><a href="#题目描述" class="header-anchor">#</a> 题目描述</h2> <p>「二叉树的序列化与反序列化」就是给你输入一棵二叉树的根节点 root，要求你实现一个这样的类：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Codec</span> <span class="token punctuation">{</span>
  <span class="token comment">// 把一棵二叉树序列化成字符串</span>
  <span class="token keyword">public</span> <span class="token function">serialize</span><span class="token punctuation">(</span>root<span class="token operator">:</span> TreeNode<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// 把字符串反序列化成二叉树</span>
  <span class="token keyword">public</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> TreeNode <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>不限制序列化的格式，只需要这两种方法能够自洽即可。</p> <p>想象一下，二叉树应该是一个二维平面的结构，而序列化出来的字符串是一个线性的一位结构。所谓的序列化不过就是把结构化的数据「打平」，其实就是在考察二叉树的遍历方式。</p> <p>二叉树的遍历方式有哪些？递归遍历方式有前序遍历、中序遍历、后序遍历；迭代方式一般是层级遍历。</p> <p>本文就把这些方式都尝试一遍，来实现序列化与反序列化。</p> <h2 id="前序遍历"><a href="#前序遍历" class="header-anchor">#</a> 前序遍历</h2> <p>前序遍历的框架讲过很多次了，这里就不再重复。这里我们想象一下当进行前序遍历时，res 输出列表大概是怎样的。</p> <p><img src="https://gblobscdn.gitbook.com/assets%2F-LrtQOWSnDdXhp3kYN4k%2Fsync%2Fdbfb76e3cfecd6515e21f7f52f4ed93d53214e62.jpeg?alt=media" alt="img"></p> <p>那么 <code>res = [1, 2, #, 4, #, #, 3, #, #]</code> 就是将二叉树「打平」到了一个列表中，其中 # 代表 null。</p> <p>因此我们可以尝试写出算法：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">serialize</span><span class="token punctuation">(</span>root<span class="token operator">:</span> TreeNode <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  
	<span class="token keyword">function</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token operator">:</span> TreeNode <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    
    res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
    <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
  
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>至此，我们完成了 serialize 方法，现在我们开始写 deserialize 方法，将字符串反过来构造二叉树。</p> <p>一般情况下，单单前序遍历结果是不能还原二叉树结构的，因为缺少控制真的信息，至少要得到前序、中序、后序遍历中的两种才能还原二叉树，但是现在我们在设计序列化函数的时候就已经包含空指针信息了，所以可以进行还原。</p> <p>我们已经知道了前序遍历的顺序，将字符串转换成列表后，就可以得到根节点，所以按照前序遍历规则，递归生成左右子树即可。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> TreeNode <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token punctuation">{</span>  
  <span class="token keyword">const</span> list <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
 
  <span class="token keyword">function</span> <span class="token function">traverse</span><span class="token punctuation">(</span>nodes<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> TreeNode <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>nodes<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    
    <span class="token keyword">const</span> first <span class="token operator">=</span> nodes<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>first <span class="token operator">===</span> <span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    
    <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token operator">+</span>first<span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token function">traverse</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token function">traverse</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> root
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> <span class="token function">traverse</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们发现书的递归性质，nodes 列表的第一个元素就是一棵树的根节点，所以只要将列表的第一个元素取出来作为根节点，剩下的交给递归函数去解决即可。</p> <h2 id="后序遍历"><a href="#后序遍历" class="header-anchor">#</a> 后序遍历</h2> <p>明白了前序遍历，后序遍历实现起来就非常简单，只需要简单调整一下函数插入数组的顺序即可：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">serialize</span><span class="token punctuation">(</span>root<span class="token operator">:</span> TreeNode <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  
	<span class="token keyword">function</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token operator">:</span> TreeNode <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
  
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>难点在于如何实现 deserialize 函数，也就是如何确定根节点。</p> <p>依照后序遍历的规则，生成的字符串的最后一位应该是二叉树的根节点，然后依次构造出 <strong>右子树</strong> ，然后才是 <strong>左子树</strong> ：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> TreeNode <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> list <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
  
  <span class="token keyword">function</span> <span class="token function">traverse</span><span class="token punctuation">(</span>nodes<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> TreeNode <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>nodes<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    
    <span class="token keyword">const</span> cur <span class="token operator">=</span> nodes<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cur <span class="token operator">===</span> <span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    
    <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token function">traverse</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token function">traverse</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> root
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> <span class="token function">traverse</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="中序遍历"><a href="#中序遍历" class="header-anchor">#</a> 中序遍历</h2> <p>先说结论： <strong>中序遍历方法无法做到反序列化，因为无法确定根节点的位置。</strong></p> <p>前序遍历根节点在列表首位，后序遍历根节点在列表末尾，都可以精确知道根节点的位置。</p> <p>中序遍历因为根节点夹在左右子树中间，所以无法知道根节点的具体位置，所以无法实现反序列化。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend-knowledge/算法/刷题套路/动态规划系列/经典动态规划：子集背包问题.html" class="prev">
        经典动态规划：子集背包问题.md
      </a></span> <span class="next"><a href="/frontend-knowledge/算法/刷题套路/数据结构系列/手把手带你刷二叉树（一期）.html">
        手把手带你刷二叉树（一期）.md
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/frontend-knowledge/assets/js/app.1cec9800.js" defer></script><script src="/frontend-knowledge/assets/js/2.62f2d1a2.js" defer></script><script src="/frontend-knowledge/assets/js/287.68a6dd0a.js" defer></script>
  </body>
</html>
