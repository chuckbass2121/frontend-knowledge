(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{333:function(t,a,s){"use strict";s.r(a);var n=s(6),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"如何打包图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何打包图片"}},[t._v("#")]),t._v(" 如何打包图片")]),t._v(" "),s("h3",{attrs:{id:"file-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file-loader"}},[t._v("#")]),t._v(" file-loader:")]),t._v(" "),s("ol",[s("li",[t._v("移动file到dist")]),t._v(" "),s("li",[t._v("返回生成的文件名")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" avatar "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./avatar.jpg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("avatar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出的是文件名 例如ababafbadf.jpg。可以通过配置options来控制文件名")]),t._v("\n\nrules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\ttest"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.(jpg|png|gif)$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tuse"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tloader： "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\toptions："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tname"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[name]_[hash].[ext]'")]),t._v("，\n\t\t\toutputPath："),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'images/'")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("是原来的文件名\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("是图片的hash值\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("是原来的土扩展名\n")])])]),s("h3",{attrs:{id:"url-loader-与-file-loader的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#url-loader-与-file-loader的区别"}},[t._v("#")]),t._v(" url-loader 与 file-loader的区别")]),t._v(" "),s("ol",[s("li",[t._v("默认是把图片转成 base64的，并打包到js文件中。\n如果图片过大，虽然减少了图片的请求，但是js加载的时间过长，\n白屏时间就长。")])]),t._v(" "),s("p",[t._v("最佳实践：\n在options中配置limit，只把小图片转成base64.\nrules:[{\ntest:/.(jpg|png|gif)/,\nuse:{\nloader： 'url-loader',\noptions：{\nname:'[name]_[hash].[ext]',\noutputPath：'images/',\nlimit:10240\n},\n}\n}]")])])}),[],!1,null,null,null);a.default=e.exports}}]);