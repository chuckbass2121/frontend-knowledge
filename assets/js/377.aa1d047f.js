(window.webpackJsonp=window.webpackJsonp||[]).push([[377],{609:function(t,r,a){"use strict";a.r(r);var e=a(6),s=Object(e.a)({},(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"错误监控及上报"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误监控及上报"}},[t._v("#")]),t._v(" 错误监控及上报")]),t._v(" "),a("h2",{attrs:{id:"前端错误分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端错误分类"}},[t._v("#")]),t._v(" 前端错误分类")]),t._v(" "),a("ul",[a("li",[t._v("即时运行错误：代码错误")]),t._v(" "),a("li",[t._v("资源加载错误")]),t._v(" "),a("li",[t._v("跨域问题")])]),t._v(" "),a("h2",{attrs:{id:"即时运行错误捕获"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#即时运行错误捕获"}},[t._v("#")]),t._v(" 即时运行错误捕获")]),t._v(" "),a("ol",[a("li",[t._v("try...catch")]),t._v(" "),a("li",[t._v("window.onerror 或者 window.addEventListener（捕获阶段非冒泡阶段）")])]),t._v(" "),a("h2",{attrs:{id:"资源加载错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源加载错误"}},[t._v("#")]),t._v(" 资源加载错误")]),t._v(" "),a("ol",[a("li",[t._v("object.onerror：img.onerror")]),t._v(" "),a("li",[t._v("performance.getEntries（getEntries api 返回一个资源加载完成数组）")]),t._v(" "),a("li",[t._v("Error 事件捕获")])]),t._v(" "),a("h2",{attrs:{id:"错误上报"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误上报"}},[t._v("#")]),t._v(" 错误上报")]),t._v(" "),a("ol",[a("li",[t._v("ajax")]),t._v(" "),a("li",[t._v("image 的 src 上报")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("(new Image()).src = '错误上报请求地址'")])]),t._v(" "),a("p",[t._v("目前主流采用 image 对象的方式上报错误，因为图片发送 get 请求，浏览器对图片有缓存，同样的请求，图片只会发送一次，避免重复上报")])])])}),[],!1,null,null,null);r.default=s.exports}}]);